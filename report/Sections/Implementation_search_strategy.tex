\documentclass[../Head/Main.tex]{subfiles}
\begin{document}
\subsection{Search strategy}

To be able to implement the fuzzy controller defined in the design phase fuzzylite have been used. Fuzzylite is a library for fuzzy control logic and thus have all the necessary tools for the implementation. The rule block uses Mamdani-style inference which require us to find the two-dimensional shape by integrating across a continuously varying function. Here the minimum triangle norm (T-norm) is used and the center of gravity (COG) as defuzzification which was found suitable. A class called \texttt{fuzzybugcontroller} was made for the implementation with methods \texttt{getControlOutput(ct::marble marble\_input, ct::robot\_orientation angle)} and \texttt{buildController()}. The \texttt{buildController()} initialises the the controller by loading in the membership functions and rule base for the fuzzy controler to follow. The \texttt{fuzzybugcontroller} gets information about distances to obstacles through an object called \texttt{pc\_laser\_scanner} which is initialized in the constructor of the fuzzybugcontroller. The object \texttt{pc\_laser\_scanner} is of type \texttt{laserscanner} which is a class used to get data from the laser scanner of the robot. The method \texttt{getControlInput(m,a} have two parameters where information about marbles and the current position of the robot is giving as inputs. This information along with the knowledge of the distance to obstacles is then giving to the controller which analyses the data and returns the giving action for the robot to follow. Analyses of how well the fuzzy controller works is documented in \ref{tangentbug}, \ref{testMotionPlanning} and \ref{testCollectMarbles}.        	


\end{document}